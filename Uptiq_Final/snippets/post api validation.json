{
  "_id": "dfc81117-bd73-437f-8600-28903c94fe2d",
  "aiPersonaId": "5cefb5e0-1663-431f-91de-146273e752a4",
  "code": "const main = () => {\n    // Process Alpha Vantage API response\n    let priceData = input?.data?.[\"Time Series (Daily)\"] || {};\n    priceData = typeof priceData === 'object' ? priceData : {};\n\n    return {\n        options: Object.entries(priceData).map(([date, data]) => ({\n            label: `${input.symbol} @ ${date}`,\n            value: `${input.symbol}_${date}`,\n            subTitle: `O: ${data[\"1. open\"]} | H: ${data[\"2. high\"]} | L: ${data[\"3. low\"]} | C: ${data[\"4. close\"]}`,\n            meta: {\n                symbol: input.symbol,\n                date,\n                open: parseFloat(data[\"1. open\"]),\n                high: parseFloat(data[\"2. high\"]),\n                low: parseFloat(data[\"3. low\"]),\n                close: parseFloat(data[\"4. close\"]),\n                volume: parseInt(data[\"5. volume\"])\n            }\n        })),\n        type: \"cardSelect\",\n        subTitleField: \"subTitle\",\n        stats: {\n            daysAvailable: Object.keys(priceData).length,\n            dateRange: {\n                start: Object.keys(priceData).pop(),\n                end: Object.keys(priceData)[0]\n            }\n        }\n    };\n};\n\nmain();\n\n/* Example Output:\n{\n  \"options\": [\n    {\n      \"label\": \"AAPL @ 2024-06-20\",\n      \"value\": \"AAPL_2024-06-20\",\n      \"subTitle\": \"O: 183.45 | H: 184.72 | L: 182.89 | C: 183.76\",\n      \"meta\": {\n        \"symbol\": \"AAPL\",\n        \"date\": \"2024-06-20\",\n        \"open\": 183.45,\n        \"high\": 184.72,\n        \"low\": 182.89,\n        \"close\": 183.76,\n        \"volume\": 10234500\n      }\n    }\n  ],\n  \"type\": \"cardSelect\",\n  \"subTitleField\": \"subTitle\",\n  \"stats\": {\n    \"daysAvailable\": 100,\n    \"dateRange\": {\n      \"start\": \"2024-01-02\",\n      \"end\": \"2024-06-20\"\n    }\n  }\n}\n*/",
  "name": "post api validation",
  "status": "Active"
}